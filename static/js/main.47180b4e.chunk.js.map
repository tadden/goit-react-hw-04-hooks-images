{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/API/ImageApi.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css","components/Modal/Modal.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","query","setQuery","className","s","searchbar","searchForm","e","preventDefault","trim","toLowerCase","type","searchFormButton","style","width","height","searchFormInput","name","value","autoComplete","autoFocus","placeholder","onChange","target","ImageGalleryItem","pictures","onClick","map","id","webformatURL","item","src","alt","fetchImages","page","fetch","then","response","ok","json","Promise","reject","Error","ImageGallery","toggleModal","setModalImage","handleStatus","status","setPictures","useEffect","result","hits","prevPictures","catch","error","toast","message","gallery","currentPicture","find","picture","Number","currentTarget","largeImageURL","Button","button","modalRoot","document","querySelector","Modal","handleKeyDown","code","props","onClose","handleBackdropClick","window","addEventListener","this","removeEventListener","createPortal","overlay","modal","children","Component","App","setPage","showModal","setShowModal","setLargeImageURL","setStatus","useCallback","color","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.47180b4e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__gboaM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__2ey0n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3QF_k\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { ImSearch } from 'react-icons/im';\nimport s from './Searchbar.module.css';\n\nexport default function Searchbar({ onSubmit }) {\n  const [query, setQuery] = useState('');\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (!query.trim()) return setQuery('');\n\n    onSubmit(query.trim().toLowerCase());\n    setQuery('');\n  };\n\n  return (\n    <header className={s.searchbar}>\n      <form className={s.searchForm} onSubmit={handleSubmit}>\n        <button\n          type='submit'\n          className={s.searchFormButton}\n          aria-label='Search images'\n        >\n          <ImSearch style={{ width: 22, height: 22 }} />\n        </button>\n\n        <input\n          className={s.searchFormInput}\n          type='text'\n          name='searchQuery'\n          value={query}\n          autoComplete='off'\n          autoFocus\n          placeholder='Search images'\n          onChange={e => setQuery(e.target.value)}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\n","import s from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\n\nexport default function ImageGalleryItem({\n  pictures,\n  onClick,\n}) {\n  return (\n    <>\n      {pictures.map(({ id, webformatURL }) => (\n        <li className={s.item} key={id}>\n          <img\n            id={id}\n            src={webformatURL}\n            alt=\"\"\n            onClick={onClick}\n          />\n        </li>\n      ))}\n    </>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  pictures: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n    }),\n  ),\n  onClick: PropTypes.func.isRequired,\n};","\nconst KEY = '23635277-6f81df1acb0b4fe12e608e34f';\n\n\n function fetchImages(name, page) {\n  return fetch(\n    `https://pixabay.com/api/?q=${name}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(\n      new Error(`There are no images ${name}`),\n    );\n  });\n}\n\nexport default fetchImages;","import  { useState, useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGallery.module.css';\nimport ImageGalleryItem from 'components/ImageGalleryItem';\nimport { toast } from 'react-toastify';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport fetchImages from '../API/ImageApi';\n\nexport default function ImageGallery({\n  query,\n  page,\n  toggleModal,\n  setModalImage,\n  handleStatus,\n  status,\n}) {\n  \n  const [pictures, setPictures] = useState([]);\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n    handleStatus('pending');\n    fetchImages(query, page)\n      .then(result => {\n        if (page === 1) {\n          setPictures(result.hits);\n        } else {\n          setPictures(prevPictures => [\n            ...prevPictures,\n            ...result.hits,\n          ]);\n        }\n        handleStatus('resolved');\n      })\n      .catch(error => {\n        toast.error(error.message);\n      });\n  }, [query, page, handleStatus]);\n\n  const handleImageClick = e => {\n    const currentPicture = pictures.find(\n      picture => picture.id === Number(e.currentTarget.id),\n    );\n    if (currentPicture) {\n      toggleModal();\n      setModalImage(currentPicture.largeImageURL);\n    }\n  };\n\n  return (\n    status !== 'idle' && (\n      <ul className={s.gallery}>\n        <ImageGalleryItem\n          pictures={pictures}\n          onClick={handleImageClick}\n        />\n      </ul>\n    )\n  );\n}\n\nImageGallery.propTypes = {\n  page: PropTypes.number.isRequired,\n  query: PropTypes.string.isRequired,\n  setModalImage: PropTypes.func.isRequired,\n  handleStatus: PropTypes.func.isRequired,\n  toggleModal: PropTypes.func.isRequired,\n};","import propTypes from 'prop-types';\nimport s from './Button.module.css';\n\n\n function Button({ onClick }) {\n  return (\n    <button\n      type=\"button\"\n      className={s.button}\n      onClick={onClick}\n    >\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: propTypes.func.isRequired,\n};\n\nexport default Button;","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\n class Modal extends Component {\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\n      'keydown',\n      this.handleKeyDown,\n    );\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div\n        className={s.overlay}\n        onClick={this.handleBackdropClick}\n      >\n        <div className={s.modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n    onClose: PropTypes.func.isRequired,\n    children: PropTypes.element.isRequired,\n};\n  \nexport default Modal;","import { useState, useCallback } from 'react';\nimport './App.css';\nimport Loader from 'react-loader-spinner';\nimport Searchbar from 'components/Searchbar';\nimport ImageGallery from 'components/ImageGallery';\nimport Button from 'components/Button';\nimport Modal from 'components/Modal';\n\n\nexport default function App  () {\n  const [query, setQuery] = useState('');\n  const [page, setPage] = useState(1);\n  const [showModal, setShowModal] = useState(false);\n  const [largeImageURL, setLargeImageURL] = useState('');\n  const [status, setStatus] = useState('idle');\n\n  const onLoadMore = () => {\n    setPage(page => page + 1);\n    setStatus('pending');\n  };\n\n  const toggleModal = () => {\n    setShowModal(showModal => !showModal);\n  };\n\n  const setModalImage = largeImageURL => {\n    setLargeImageURL(largeImageURL);\n  };\n\n  const handleFormSubmit = query => {\n    setQuery(query);\n    setPage(1);\n    setStatus('idle');\n  };\n\n  const handleStatus = useCallback(\n    status => setStatus(status),\n    [],\n  );\n\n  return (\n    <div>\n      <Searchbar onSubmit={handleFormSubmit} />\n      <ImageGallery\n        query={query}\n        toggleModal={toggleModal}\n        setModalImage={setModalImage}\n        page={page}\n        handleStatus={handleStatus}\n        status={status}\n      />\n\n      {status === 'pending' && (\n        <Loader\n          type=\"ThreeDots\"\n          color=\"#3f51b5\"\n          height={50}\n          width={80}\n          timeout={3000}\n        />\n      )}\n\n      {status === 'resolved' && (\n        <Button onClick={onLoadMore} />\n      )}\n\n      {showModal && (\n        <Modal onClose={toggleModal}>\n          <img src={largeImageURL} alt=\"\" />\n        </Modal>\n      )}\n    </div>\n  );\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__jo466\",\"searchForm\":\"Searchbar_searchForm__23jwf\",\"searchFormButton\":\"Searchbar_searchFormButton__MrnjN\",\"searchFormInput\":\"Searchbar_searchFormInput__tpesZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2GjdW\",\"modal\":\"Modal_modal__P3_V5\"};"],"sourceRoot":""}